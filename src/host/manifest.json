{
  "build": {
    "SDKCONFIGPATH": "./sdkconfig",
    "PARTITIONS_FILE": "./sdkconfig/partitions.csv",
    "NAME": "hydrolec-host"
  },
  "include": [
    "$(MODDABLE)/examples/manifest_base.json",
    "$(MODDABLE)/examples/manifest_net.json",
    "$(MODDABLE)/modules/network/mdns/manifest.json",
    "$(MODDABLE)/modules/network/mqtt/manifest.json",
    "$(MODDABLE)/modules/files/preference/manifest.json",
    "$(MODDABLE)/modules/files/resourceiterator/manifest.json",
    "$(MODDABLE)/modules/crypt/tls.json",
    "$(MODDABLE)/modules/base/instrumentation/manifest.json",
    "$(MODDABLE)/modules/base/worker/manifest.json",
    "$(MODDABLE)/modules/network/ble/manifest_client.json",
    "./native/manifest.json"
  ],
  "defines": {
    "XS_MODS": 1
  },
  "modules": {
    "*": [
      "./main",
      "$(MODULES)/base/modules/*",
      "$(MODULES)/network/http/*",
      "$(MODULES)/network/sntp/*",
      "$(MODULES)/data/base64/*",
      "$(MODULES)/data/logical/*",
      "$(MODULES)/crypt/digest/*",
      "$(MODULES)/crypt/digest/kcl/*",
      "$(MODULES)/network/mqtt/*",
      "$(MODULES)/network/telnet/*",
      "$(MODULES)/base/debug/*"
    ],
    "cli": "$(MODULES)/base/cli/cli",
    "dns/server": "$(MODULES)/network/dns/dnsserver"
  },
  "resources": {
    "*-alpha": ["../../assets/arial-regular-14"],
    "*-mask": [
      "../../assets/wifi-strip",
      "../../assets/battery",
      "../../assets/signal",
      "../../assets/bluetooth",
      "../../assets/logo"
    ]
  },
  "data": {
    "*": ["../../assets/zones"]
  },
  "preload": [
    "http",
    "sntp",
    "base64",
    "digest",
    "logical",
    "mqtt",
    "modules",
    "telnet",
    "cli/*"
  ],
  "strip": [
    "Atomics",
    "eval",
    "Function",
    "Proxy",
    "Reflect",
    "SharedArrayBuffer",
    "WeakMap",
    "WeakSet",
    "RegExp"
  ],
  "config": {
    "tls": {
      "DHE_RSA": false,
      "ECDHE_RSA": false
    }
  },
  "platforms": {
    "lin": {
      "creation": {
        "stack": 600,
        "#static": 131072,
        "keys": {
          "available": 400
        }
      },
      "config": {
        "file": {
          "root": "~/.config/"
        }
      },

      "include": ["./manifest_piu.json"],
      "data": {
        "*": ["../../certs/*"]
      }
    },
    "esp32": {
      "creation": {
        "chunk": {
          "#incremental": 1024,
          "#initial": 32768
        },
        "#heap": {
          "#initial": 100,
          "#incremental": 64
        },
        "stack": 600,
        "#stack": 512,
        "keys": {
          "available": 500,
          "#available": 256,
          "#name": 127,
          "#symbol": 127
        },
        "parser": {
          "buffer": 10,
          "table": 10
        },
        "#static": 40960,
        "#static_max": 134000,
        "static": 32768,
        "#main": "main"
      },
      "include": [
        "$(MODULES)/io/manifest.json",
        "$(MODULES)/drivers/ssd1306/manifest_i2c.json",
        "./manifest_piu.json",
        "./uart/manifest.json"
      ],
      "modules": {
        "~": ["$(BUILD)/devices/esp32/setup/network"],
        "esp32": ["./native/*"],
        "pppos": ["./pppos/*"],
        "esp32/ota": "$(BUILD)/devices/esp32/modules/ota/*",
        "flash": ["$(MODULES)/files/flash/*", "$(MODULES)/files/flash/esp32/*"],
        "cli/network": "$(MODULES)/base/cli/commands/network"
      },
      "preload": ["flash"],
      "defines": {
        "serial": {
          "interface_uart": 2,
          "baud": 115200,
          "tx_pin": 25,
          "rx_pin": 26,
          "txbuffersize": 256,
          "rxbuffersize": 256,
          "timeout": 1000
        },
        "ssd1306": {
          "width": 128,
          "height": 64,
          "dither": false,
          "spi": false,
          "i2c": true,
          "scl_pin": 22,
          "sda_pin": 21,
          "address": "0x3c"
        },
        "i2c": {
          "sda_pin": 21,
          "scl_pin": 22
        }
      },
      "config": {
        "screen": "ssd1306",
        "led": {
          "pin": "2"
        },
        "button": {
          "pin": "0"
        }
      }
    }
  }
}
